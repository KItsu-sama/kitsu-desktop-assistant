kitsu/
â”‚
â”œâ”€â”€ main.pyÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸš€ Entry point - minimal, just bootstraps
â”œâ”€â”€ launcher.pyÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ¬ Handles initialization, config loading
â”œâ”€â”€ requirements.txtÂ  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ“¦ Python dependencies
â”œâ”€â”€ pyproject.tomlÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ”§ Modern Python project config
â”œâ”€â”€ README.mdÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ“– User-facing documentation
â”œâ”€â”€ CONTRIBUTING.mdÂ  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ¤ For community contributors
â”œâ”€â”€ .env.exampleÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ” Template for secrets
â”‚
â”œâ”€â”€ /core/                                   # ğŸ§  Kitsu's Brain (Pure Logic)
â”‚Â  Â â”œâ”€â”€ __init__.py
â”‚Â  Â â”œâ”€â”€  kitsu_core.py                         # Orchestrator: routes input â†’ NLP / emotion / intent  â†’  META-CONTROLLER  ğŸ‘‘  â†’   planner / memory / reflection (conditional)  â†’  LLM
â”‚Â  Â â”œâ”€â”€  fallback_manager.py                   # Safety fallback responses
â”‚Â  Â â”‚
â”‚Â  Â â”‚   # ğŸ›  DEV-ONLY TOOLS (not for user)  
â”‚Â  Â â”‚ #=============================================================#=============================================================#
â”‚Â  Â â”‚
â”‚   â”œâ”€â”€ /response_manager/           # Dev tools for response tuning
â”‚   â”‚   â”œâ”€â”€ history.py
â”‚   â”‚   â”œâ”€â”€ overrides.py
â”‚   â”‚   â””â”€â”€ exporter.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ dev/                     # ğŸ›  ALL dev tools here
â”‚   â”‚   â”œâ”€â”€ console_router.py        
â”‚   â”‚   â”œâ”€â”€ permissions.py           
â”‚   â”‚   â””â”€â”€ ğŸ“ handlers/
â”‚   â”‚       â”œâ”€â”€ command_registry.py      # Command registration
â”‚   â”‚       â”œâ”€â”€ response_trainer.py  
â”‚   â”‚       â”œâ”€â”€ response_rater.py    
â”‚   â”‚       â”œâ”€â”€ error_viewer.py      
â”‚   â”‚       â”œâ”€â”€ stats_viewer.py      
â”‚   â”‚       â”œâ”€â”€ module_resetter.py   
â”‚   â”‚       â””â”€â”€ debug_tools.py       
â”‚   â”‚
â”‚Â  Â â”‚ #=============================================================#=============================================================#
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€/onboarding/                          # ğŸ‰ First-time experience
â”‚Â  Â â”‚   â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚   â”œâ”€â”€ onboarding_flow.py                # Full onboarding logic
â”‚Â  Â â”‚   â”œâ”€â”€ onboarding_ascii.py               # ASCII onboarding UI
â”‚Â  Â â”‚   â”œâ”€â”€ onboarding_voice.py               # TTS version of onboarding
â”‚Â  Â â”‚   â””â”€â”€ help_panel.py                     # Scrollable categorized help menu
â”‚Â  Â â”‚
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /personality/                         # ğŸ¦Š Identity & Personality Engine
â”‚Â  Â â”‚   â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚   â”œâ”€â”€ self_model.py
â”‚Â  Â â”‚   â”œâ”€â”€ emotion_engine.py
â”‚Â  Â â”‚   â”œâ”€â”€ mood_tracker.py
â”‚Â  Â â”‚   â”œâ”€â”€ behavior_modes.py
â”‚Â  Â â”‚   â”œâ”€â”€ kitsu_self.py
â”‚Â  Â â”‚   â”œâ”€â”€ trigger_manager.py
â”‚Â  Â â”‚   â”œâ”€â”€ triggers.py
â”‚Â  Â â”‚   â””â”€â”€ sass_generator.py
â”‚Â  Â â”‚
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /cognition/                           # ğŸ¤” Thought Processing
â”‚Â  Â â”‚   â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚   â”œâ”€â”€ planner.py
â”‚Â  Â â”‚   â”œâ”€â”€ executor.py
â”‚Â  Â â”‚   â”œâ”€â”€ nlp_processor.py
â”‚Â  Â â”‚   â”œâ”€â”€ intent_classifier.py
â”‚Â  Â â”‚   â”œâ”€â”€ context_builder.py
â”‚Â  Â â”‚   â”‚
â”‚Â  Â â”‚   â””â”€â”€ /navigation/                      # ğŸ§­ Tool / Function Navigation
â”‚Â  Â â”‚       â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚       â”œâ”€â”€ neuro_navigation.py
â”‚Â  Â â”‚       â”œâ”€â”€ tool_registry.py
â”‚Â  Â â”‚       â”œâ”€â”€ embedder.py
â”‚Â  Â â”‚       â””â”€â”€ adapters.py
â”‚Â  Â â”‚
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /memory/                              # ğŸ’¾ Memory System
â”‚Â  Â â”‚   â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚   â”œâ”€â”€ memory_manager.py
â”‚Â  Â â”‚   â”œâ”€â”€ short_term.py
â”‚Â  Â â”‚   â”œâ”€â”€ episodic.py
â”‚Â  Â â”‚   â”œâ”€â”€ sleep_compressor.py
â”‚Â  Â â”‚   â”œâ”€â”€ user_manager.py
â”‚Â  Â â”‚   â”œâ”€â”€ scoring.py
â”‚Â  Â â”‚   â””â”€â”€ retrieval.py
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /meta/
â”‚Â  Â â”‚   â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚   â”œâ”€â”€ meta_controller.py      # ğŸ‘‘ The brain that decides modes
â”‚Â  Â â”‚   â”œâ”€â”€ decision_models.py      # Heuristics / scoring logic
â”‚Â  Â â”‚   â”œâ”€â”€ response_modes.py       # Mode definitions
â”‚Â  Â â”‚   â”œâ”€â”€ safety_gate.py          # Hard limits & filtering
â”‚Â  Â â”‚
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /learning/                            # ğŸ“š Online Learning System
â”‚Â  Â â”‚   â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚   â”œâ”€â”€ state_encoder.py
â”‚Â  Â â”‚   â”œâ”€â”€ online_rl.py
â”‚Â  Â â”‚   â”œâ”€â”€ reward_engine.py
â”‚Â  Â â”‚   â”œâ”€â”€ preference_learner.py
â”‚Â  Â â”‚   â””â”€â”€ trainer.py
â”‚Â  Â â”‚
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /events/                              # ğŸ“¡ Event System
â”‚Â  Â â”‚   â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚   â”œâ”€â”€ event_manager.py
â”‚Â  Â â”‚   â”œâ”€â”€ trigger_system.py
â”‚Â  Â â”‚   â”œâ”€â”€ reaction_registry.py
â”‚Â  Â â”‚   â””â”€â”€ cooldown_manager.py
â”‚Â  Â â”‚
â”‚Â  Â â”‚
â”‚   â””â”€â”€ /llm/                                 # ğŸ¤– LLM Integration
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ llm_interface.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ lora_manager.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ ollama_adapter.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ api_adapter.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ prompt_builder.py 
â”‚
â”œâ”€â”€ /io_layer/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ¤ğŸ”Š Input/Output Layer
â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”œâ”€â”€ io_manager.pyÂ  Â  Â  Â  Â  Â  Â  Â  # Coordinates all I/O
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /voice/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ™ï¸ Voice I/O
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ voice_input.pyÂ  Â  Â  Â  Â  Â # STT (speech-to-text)
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ voice_output.pyÂ  Â  Â  Â  Â  # TTS (text-to-speech)
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ voice_changer.pyÂ  Â  Â  Â  Â # Emotion-based voice modulation
â”‚Â  Â â”‚Â  Â â””â”€â”€ audio_processor.pyÂ  Â  Â  Â # Audio utils
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /avatar/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ‘§ Avatar Display
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ avatar_controller.pyÂ  Â  Â # Main avatar coordinator
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ animator.pyÂ  Â  Â  Â  Â  Â  Â  # Expression animations
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ live2d_renderer.pyÂ  Â  Â  Â # Live2D support
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ vrm_renderer.pyÂ  Â  Â  Â  Â  # VRM 3D support
â”‚Â  Â â”‚Â  Â â””â”€â”€ sprite_renderer.pyÂ  Â  Â  Â # 2D sprite fallback
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /chat/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ’¬ Text Interface
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ chat_interface.pyÂ  Â  Â  Â  # Text I/O (terminal/GUI)
â”‚Â  Â â”‚Â  Â â””â”€â”€ formatter.pyÂ  Â  Â  Â  Â  Â  Â # Pretty-print messages
â”‚Â  Â â”‚
â”‚Â  Â â””â”€â”€ /desktop/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ–¥ï¸ Desktop Integration
â”‚Â  Â  Â  Â â”œâ”€â”€ init.py
â”‚Â  Â  Â  Â â”œâ”€â”€ window_manager.pyÂ  Â  Â  Â  # Desktop window control
â”‚Â  Â  Â  Â â”œâ”€â”€ interaction_zones.pyÂ  Â  Â # Click/hover areas
â”‚Â  Â  Â  Â â””â”€â”€ overlay_renderer.pyÂ  Â  Â  # Transparent overlays
â”‚
â”œâ”€â”€ /integrations/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ”Œ External System Hooks
â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”œâ”€â”€ integration_manager.pyÂ  Â  Â  Â # Plugin manager for integrations
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /browser/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸŒ Browser Integration
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ history_reader.pyÂ  Â  Â  Â  # Read browser history
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ youtube_watcher.pyÂ  Â  Â  Â # Track YouTube activity
â”‚Â  Â â”‚Â  Â â””â”€â”€ content_reactor.pyÂ  Â  Â  Â # React to content
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /system/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # âš™ï¸ OS Integration
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ system_monitor.pyÂ  Â  Â  Â  # CPU/RAM/disk monitoring
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ idle_detector.pyÂ  Â  Â  Â  Â # Detect user idle
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ app_controller.pyÂ  Â  Â  Â  # Block/control apps
â”‚Â  Â â”‚Â  Â â””â”€â”€ power_control.pyÂ  Â  Â  Â  Â # Shutdown/restart (with permission!)
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /security/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ›¡ï¸ Anti-Tamper
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ tamper_detector.pyÂ  Â  Â  Â # Detect reverse engineering
â”‚Â  Â â”‚Â  Â â””â”€â”€ integrity_checker.pyÂ  Â  Â # Verify code integrity
â”‚Â  Â â”‚
â”‚Â  Â â””â”€â”€ /plugins/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ”§ Community Plugins
â”‚Â  Â  Â  Â â”œâ”€â”€ init.py
â”‚Â  Â  Â  Â â”œâ”€â”€ plugin_loader.pyÂ  Â  Â  Â  Â # Dynamic plugin loading
â”‚Â  Â  Â  Â â”œâ”€â”€ plugin_api.pyÂ  Â  Â  Â  Â  Â  # API for plugin developers
â”‚Â  Â  Â  Â â””â”€â”€ /installed/Â  Â  Â  Â  Â  Â  Â  # User-installed plugins
â”‚Â  Â  Â  Â  Â  Â â””â”€â”€ example_plugin/
â”‚
â”œâ”€â”€ /toybox/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ® Interactive Toys
â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”œâ”€â”€ toybox_manager.pyÂ  Â  Â  Â  Â  Â  # Toy registry and loader
â”‚Â  Â â”œâ”€â”€ toy_base.pyÂ  Â  Â  Â  Â  Â  Â  Â  Â  # Abstract base class for toys
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /built_in_toys/Â  Â  Â  Â  Â  Â  Â  # ğŸ Included Toys
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ pet_rock.pyÂ  Â  Â  Â  Â  Â  Â  # The legendary pet rock
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ lava_lamp.pyÂ  Â  Â  Â  Â  Â  Â # Mesmerizing blobs
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ bubble_wrap.pyÂ  Â  Â  Â  Â  Â # Satisfying pops
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ pong_game.pyÂ  Â  Â  Â  Â  Â  Â # AI Pong with learning
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ fox_run.pyÂ  Â  Â  Â  Â  Â  Â  Â # Endless runner
â”‚Â  Â â”‚Â  Â â””â”€â”€ fidget_spinner.pyÂ  Â  Â  Â  # Virtual spinner
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /community_toys/Â  Â  Â  Â  Â  Â  Â # ğŸ“¦ User-Downloaded Toys
â”‚Â  Â â”‚Â  Â â””â”€â”€ .gitkeep
â”‚Â  Â â”‚
â”‚Â  Â â””â”€â”€ /toy_api/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ› ï¸ Toy Development Kit
â”‚Â  Â  Â  Â â”œâ”€â”€ init.py
â”‚Â  Â  Â  Â â”œâ”€â”€ toy_interface.pyÂ  Â  Â  Â  Â # Standard toy interface
â”‚Â  Â  Â  Â â”œâ”€â”€ rendering.pyÂ  Â  Â  Â  Â  Â  Â # Rendering helpers
â”‚Â  Â  Â  Â â”œâ”€â”€ physics.pyÂ  Â  Â  Â  Â  Â  Â  Â # Simple physics engine
â”‚Â  Â  Â  Â â””â”€â”€ kitsu_interactions.pyÂ  Â  # How toys trigger Kitsu reactions
â”‚
â”œâ”€â”€ /ui/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ¨ User Interface
â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”œâ”€â”€ ui_manager.pyÂ  Â  Â  Â  Â  Â  Â  Â  # UI coordinator
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /console/
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ __init__.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ ascii_ui.py              # Rich-based UI rendering
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ help_system.py           # Full categorized help manager
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ onboarding.py            # First-run onboarding flow
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ kitsu_speaker.py         # Handles TTS/text-based speech output
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ onboarding_display.py
â”‚Â  Â â”‚Â  Â â””â”€â”€ ui_config.py             # Mode toggles + appearance
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /desktop_ui/Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸªŸ Desktop Interface
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ main_window.pyÂ  Â  Â  Â  Â  Â # Main Kitsu window
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ settings_panel.pyÂ  Â  Â  Â  # Configuration UI
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ toybox_viewer.pyÂ  Â  Â  Â  Â # Browse toys
â”‚Â  Â â”‚Â  Â â””â”€â”€ notification_s ystem.pyÂ  Â # Popup notifications
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /overlays/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ­ Floating Overlays
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ emotion_overlay.pyÂ  Â  Â  Â # Show current emotion
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ thought_bubble.pyÂ  Â  Â  Â  # Display thoughts
â”‚Â  Â â”‚Â  Â â””â”€â”€ tooltip_system.pyÂ  Â  Â  Â  # Hover tooltips
â”‚Â  Â â”‚
â”‚Â  Â â””â”€â”€ /pranks/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ˜ˆ Prank UI
â”‚Â  Â  Â  Â â”œâ”€â”€ init.py
â”‚Â  Â  Â  Â â”œâ”€â”€ fake_errors.pyÂ  Â  Â  Â  Â  Â # Fake error windows
â”‚Â  Â  Â  Â â”œâ”€â”€ window_shuffler.pyÂ  Â  Â  Â # Rearrange windows
â”‚Â  Â  Â  Â â””â”€â”€ cursor_games.pyÂ  Â  Â  Â  Â  # Mess with cursor
â”‚
â”œâ”€â”€ /marketplace/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ›’ Community Marketplace
â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”œâ”€â”€ marketplace_client.pyÂ  Â  Â  Â  # Browse/download content
â”‚Â  Â â”œâ”€â”€ package_manager.pyÂ  Â  Â  Â  Â  Â # Install/update packages
â”‚Â  Â â”œâ”€â”€ rating_system.pyÂ  Â  Â  Â  Â  Â  Â # Rate community content
â”‚Â  Â â””â”€â”€ upload_tool.pyÂ  Â  Â  Â  Â  Â  Â  Â # Upload creations
â”‚
â”œâ”€â”€ /assets/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ¨ Resources
â”‚Â  Â â”œâ”€â”€ /models/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # Avatar Models
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ /kitsu/
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ /full/Â  Â  Â  Â  Â  Â  Â  Â # VRM/Live2D full models
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ 
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ default.vrm
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ bunny_suit.vrm
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ pajama.vrm
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â””â”€â”€ ...
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ /chibi/Â  Â  Â  Â  Â  Â  Â  # Chibi sprites
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ /default/
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ idle.png
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ happy.png
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ angry.png
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ embarrassed.png
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â””â”€â”€ ...
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”‚Â  Â â””â”€â”€ /outfits/
â”‚Â  Â â”‚Â  Â â”‚Â  Â â””â”€â”€ /pixel/Â  Â  Â  Â  Â  Â  Â  # Pixel art for games
â”‚Â  Â â”‚Â  Â â”‚Â  Â  Â  Â â”œâ”€â”€ run.png
â”‚Â  Â â”‚Â  Â â”‚Â  Â  Â  Â â”œâ”€â”€ jump.png
â”‚Â  Â â”‚Â  Â â”‚Â  Â  Â  Â â”œâ”€â”€ idle.png
â”‚Â  Â â”‚Â  Â â”‚Â  Â  Â  Â â””â”€â”€ ...
â”‚Â  Â â”‚Â  Â â””â”€â”€ /community/Â  Â  Â  Â  Â  Â  Â  # User-uploaded models
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /sounds/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ”Š Audio
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ /voice/Â  Â  Â  Â  Â  Â  Â  Â  Â  # Voice clips
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ /sfx/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # Sound effects
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ giggles.wav
â”‚Â  Â â”‚Â  Â â”‚Â  Â â”œâ”€â”€ annoyed_sigh.wav
â”‚Â  Â â”‚Â  Â â”‚Â  Â â””â”€â”€ prank_sounds/
â”‚Â  Â â”‚Â  Â â””â”€â”€ /music/Â  Â  Â  Â  Â  Â  Â  Â  Â  # Background music
â”‚Â  Â â”‚
â”‚Â  Â â”œâ”€â”€ /ui_elements/Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ¨ UI Assets
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ /icons/
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ /backgrounds/
â”‚Â  Â â”‚Â  Â â””â”€â”€ /effects/
â”‚Â  Â â”‚
â”‚Â  Â â””â”€â”€ /toybox_assets/Â  Â  Â  Â  Â  Â  Â  # ğŸ® Toy Resources
â”‚Â  Â  Â  Â â”œâ”€â”€ hand_open.png
â”‚Â  Â  Â  Â â”œâ”€â”€ hand_closed.png
â”‚Â  Â  Â  Â â””â”€â”€ /toy_specific/
â”‚
â”‚   /data/                                 # ğŸ’¾ Persistent Data (never touched by code directly)
â”‚  â”œâ”€â”€ /memory/                           # Short, episodic, compressed
â”‚  â”‚   â”œâ”€â”€ short_term.json                # Last messages, context window
â”‚  â”‚   â”œâ”€â”€ episodic.json                  # Significant events / milestones
â”‚  â”‚   â”œâ”€â”€ compressed/                    # Old archived memory chunks
â”‚  â”‚   â””â”€â”€ backups/                       # Auto-saves & crash recovery
â”‚  â”‚
â”‚  â”œâ”€â”€ /models/                           # ML/CV models
â”‚  â”‚   â”œâ”€â”€ emotion_classifier.onnx
â”‚  â”‚   â”œâ”€â”€ intent_classifier.onnx
â”‚  â”‚   â”œâ”€â”€ online_learning/
â”‚  â”‚   â”‚   â””â”€â”€ agent.pkl                  # RL policy
â”‚  â”‚   â””â”€â”€ preferences.pkl                # Learned user preferences
â”‚  â”‚
â”‚  â”œâ”€â”€ /config/                           # Everything the user can edit
â”‚  â”‚   â”œâ”€â”€ kitsu_config.json              # VTuber global settings (FPS, voice on/offâ€¦)
â”‚  â”‚   â”œâ”€â”€ personality.json               # Core personality coefficients
â”‚  â”‚   â”œâ”€â”€ triggers.json                  # Emotion triggers & multipliers
â”‚  â”‚   â”œâ”€â”€ permissions.json               # What Kitsu is allowed to control
â”‚  â”‚   â”œâ”€â”€ user_profile.json              # User profile (UI-friendly)
â”‚  â”‚
â”‚  â”œâ”€â”€ /templates/                        # Prompt templates & writing styles
â”‚  â”‚   â”œâ”€â”€ base_personality.txt           # Foundation prompt
â”‚  â”‚   â”œâ”€â”€ samples.txt                    # Example interactions
â”‚  â”‚   â”œâ”€â”€ mode_templates/
â”‚  â”‚   â”‚   â”œâ”€â”€ behave.txt
â”‚  â”‚   â”‚   â”œâ”€â”€ mean.txt
â”‚  â”‚   â”‚   â””â”€â”€ flirty.txt
â”‚  â”‚   â”œâ”€â”€ sass_base.json                 # Roast templates
â”‚  â”‚   â””â”€â”€ reactions.json                 # (Optional) Emoji â†’ animation mapping
â”‚  â”‚
â”‚  â””â”€â”€ /logs/                             # Logs (rotating)
â”‚     â”œâ”€â”€ events.log
â”‚     â”œâ”€â”€ pranks.log
â”‚     â”œâ”€â”€ errors.log
â”‚     â””â”€â”€ analytics.log
â”‚
â”œâ”€â”€ /utils/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # ğŸ”§ Utilities
â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”œâ”€â”€ logger.pyÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  # Logging system
â”‚Â  Â â”œâ”€â”€ config_loader.pyÂ  Â  Â  Â  Â  Â  Â # Load/save configs
â”‚Â  Â â”œâ”€â”€ randomizer.pyÂ  Â  Â  Â  Â  Â  Â  Â  # Controlled randomness
â”‚Â  Â â”œâ”€â”€ gpu_utils.pyÂ  Â  Â  Â  Â  Â  Â  Â  Â # GPU acceleration helpers
â”‚Â  Â â”œâ”€â”€ file_utils.pyÂ  Â  Â  Â  Â  Â  Â  Â  # File operations
â”‚Â  Â â”œâ”€â”€ time_utils.pyÂ  Â  Â  Â  Â  Â  Â  Â  # Time/scheduling helpers
â”‚Â  Â â””â”€â”€ validators.pyÂ  Â  Â  Â  Â  Â  Â  Â  # Input validation
â”‚
â”œâ”€â”€ /tests/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # âœ… Test Suite
â”‚Â  Â â”œâ”€â”€ init.py
â”‚Â  Â â”œâ”€â”€ /unit/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # Unit tests
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ test_emotion_engine.py
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ test_memory.py
â”‚Â  Â â”‚Â  Â â””â”€â”€ test_planner.py
â”‚Â  Â â”œâ”€â”€ /integration/Â  Â  Â  Â  Â  Â  Â  Â  # Integration tests
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ test_voice_pipeline.py
â”‚Â  Â â”‚Â  Â â””â”€â”€ test_toy_system.py
â”‚Â  Â â””â”€â”€ /fixtures/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # Test data
â”‚Â  Â  Â  Â â””â”€â”€ sample_conversations.json
â”‚
â”œâ”€â”€ ğŸ“ scripts/ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ› ï¸ Development Scripts
â”‚   â”œâ”€â”€ install_dependencies.py       
â”‚   â”œâ”€â”€ setup_wizard.py              
â”‚   â”œâ”€â”€ generate_dataset.py          
â”‚   â”œâ”€â”€ finetune_lora.py             
â”‚   â”œâ”€â”€ dataset_kitsu.py             
â”‚   â”œâ”€â”€ safety_filter.py             
â”‚   â”œâ”€â”€ run_kitsu.py                 # (for Ollama)
â”‚   â”œâ”€â”€ export_to_gguf.py
â”‚   â”œâ”€â”€ train_all_styles.py
â”‚   â”œâ”€â”€ quick_start.sh               
â”‚Â  Â â”œâ”€â”€ quick_start.bat
â”‚Â  Â â”œâ”€â”€ load_to_ollama_direct
â”‚Â  Â â”œâ”€â”€ setup_dev.pyÂ  Â  Â  Â  Â  Â  Â  Â  Â # Development environment setup
â”‚Â  Â â”œâ”€â”€ train_models.pyÂ  Â  Â  Â  Â  Â  Â  # Train ML models
â”‚Â  Â â”œâ”€â”€ load_to_ollama.py  Â  Â  Â  Â  Â # Load models into Ollama
â”‚Â  Â â”œâ”€â”€ generate_assets.pyÂ  Â  Â  Â  Â  Â # Asset generation helpers
â”‚Â  Â â”œâ”€â”€ package_for_release.pyÂ  Â  Â  Â # Build release packages
â”‚Â  Â â””â”€â”€ update_dependencies.pyÂ  Â  Â  Â # Update all deps
â”‚
â”œâ”€â”€ /docs/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸ“š Documentation
â”‚Â  Â â”œâ”€â”€ /api/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  # API documentation
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ core_api.md
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ plugin_api.md
â”‚Â  Â â”‚Â  Â â””â”€â”€ toy_api.md
â”‚Â  Â â”œâ”€â”€ /guides/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # User guides
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ getting_started.md
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ customization.md
â”‚Â  Â â”‚Â  Â â””â”€â”€ plugin_development.md
â”‚Â  Â â”œâ”€â”€ /architecture/Â  Â  Â  Â  Â  Â  Â  Â # Architecture docs
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ system_overview.md
â”‚Â  Â â”‚Â  Â â”œâ”€â”€ emotion_system.md
â”‚Â  Â â”‚Â  Â â””â”€â”€ memory_system.md
â”‚Â  Â â””â”€â”€ /changelog/Â  Â  Â  Â  Â  Â  Â  Â  Â  # Version history
â”‚Â  Â  Â  Â â””â”€â”€ CHANGELOG.md
â”‚
â””â”€â”€ /external/Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â # ğŸŒ External Components (Optional)
â”œâ”€â”€ /csharp_ui/Â  Â  Â  Â  Â  Â  Â  Â  Â  # C# Desktop UI (if used)
â”‚Â  Â â”œâ”€â”€ KitsuUI.sln
â”‚Â  Â â”œâ”€â”€ /KitsuDesktop/
â”‚Â  Â â””â”€â”€ /ToyBox/
â””â”€â”€ /web_dashboard/Â  Â  Â  Â  Â  Â  Â  # Web-based control panel
â”œâ”€â”€ index.html
â”œâ”€â”€ /js/
â””â”€â”€ /css/


3 llm

(1) Emotion Classifier{intent, sentiment, triggers} # intent = intent of input , sentiment = how Kitsu think of it (+, none, -), triggers = any emotional triggers detected

{intent, sentiment, triggers} ==> mode


(2) mode + react Classifier ==> (plan, Expression, retaliation)

prompt =  f""" ...

{user} intent to {triggers}/{intent} by saying {input}

you intent to {intent} and {retaliation}

Mode == {mode}

... 

"""

(3) pmorpt + ResponseGenerator (response text)


planning = Planning(kitsu_self, memory, triggers, emotion_engine)

plan = planning.generate_plan("")

Primary Brain: Phi-3 Mini (1.8B SLM) - Fine-tuned for personality
â”œâ”€â”€ Vision: LLaVA-7B (VLM for webcam/screenshots)
â”œâ”€â”€ Memory: .... (LCM for long conversation history) (perfer free)
â”œâ”€â”€ Emotion Engine: Custom neural net (expression mapping)
â”œâ”€â”€ Voice: Real-time TTS with emotion modulation
â””â”€â”€ Idle Behavior: Procedural animation + mini-games

Modes:
â”œâ”€â”€ behave Mode: Phi-3 + gentle personality weights
â”œâ”€â”€ mean Mode: Phi-3 + sassy personality weights  
â””â”€â”€ flirty Mode: Phi-3 + flirty personality weights

Capabilities needed:
 Real-time emotional responses
 Visual awareness of user state
 Long-term relationship memory
 Fast, natural conversation (sub-100ms)
 Privacy-first local processing

 Emotion:

          Strong affection
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Flirty
   â”‚Â  Â â”‚                    â–²
Comfortâ”‚                â”‚Â  Â â”‚Tease / Playfight
       â–¼                â”‚Â  Â â”‚
Soft â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Gremlin Mean
 â–²                    â”‚Â  Â â”‚
 â”‚                    â”‚Â  Â â”‚ Strong insult / emotional hurt
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Cold â—„â”€â”€â”˜


        affection
   Soft â”€â”€â”€â–º Flirty
    â–²      â”‚Â  Â â”‚
â”‚Â  Â â”‚ comfort  â”‚ tease
â”‚Â  Â â”‚          â–¼
Silent â—„â”€â”€ Gremlin â—„â”€â”€ playfight/banter
   â–²           â”‚Â  Â â”‚
   â”‚           â”‚Â  Â â”‚ insult
   â”‚               â–¼
   Hide â—„â”€â”€â”€â”€â”€â”€ Cold
   (overwhelm)   (hurt)


Soft â†” Flirty â†” Gremlin
   â†‘         |       â†“
   |         | insult/hurt
   |         â†“
Silent â† Cold
   â†‘
   | overwhelm / fluster
   |
 Hide (turns off avatar / stops responding)

KITSU
 â”œâ”€â”€ Mood (Primary Personality Axis)
 â”‚    â”œâ”€â”€ behave
 â”‚    â”œâ”€â”€ mean
 â”‚    â””â”€â”€ flirty
 â”‚
 â””â”€â”€ Style (Expression / Flavor / Attitude Overlay)
      â”œâ”€â”€ chaotic
      â”œâ”€â”€ sweet
      â”œâ”€â”€ cold
      â””â”€â”€ silent (low-response mode)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USER INPUT                           â”‚Â  Â â”‚
â”‚  "You're cute!" or "*boops nose*" or "You're stupid"    â”‚Â  Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PLANNER                               â”‚Â  Â â”‚
â”‚  (Planning System)                                      â”‚Â  Â â”‚
â”‚                                                         â”‚Â  Â â”‚
â”‚  1. Save to memory (with emotion tag)                   â”‚Â  Â â”‚
â”‚  2. Check for triggers (keywords, symbols)              â”‚Â  Â â”‚
â”‚  3. Get current emotion + mood + style                  â”‚Â  Â â”‚
â”‚                                                         â”‚Â  Â â”‚
â”‚  IF TRIGGER FOUND:                                      â”‚Â  Â â”‚
â”‚    â†’ Fire trigger â†’ Update emotion stack                â”‚Â  Â â”‚
â”‚    â†’ Return ActionPlan (prank, tease, affection, etc.)  â”‚Â  Â â”‚
â”‚                                                         â”‚Â  Â â”‚
â”‚  ELSE (NORMAL DIALOGUE):                                â”‚Â  Â â”‚
â”‚    â†’ Generate with LLM (or sass fallback)               â”‚Â  Â â”‚ 
â”‚    â†’ Add voice pitch modulation                         â”‚Â  Â â”‚
â”‚    â†’ Return ActionPlan (dialogue)                       â”‚Â  Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             EMOTION ENGINE                              â”‚Â  Â â”‚
â”‚  (Stack System)                                         â”‚Â  Â â”‚
â”‚                                                         â”‚Â  Â â”‚
â”‚  Stack: [angry(0.9), offended(0.7), hurt(0.6)]          â”‚Â  Â â”‚
â”‚  Dominant: angry                                        â”‚Â  Â â”‚
â”‚  Updates: mood â†’ mean, style â†’ cold                     â”‚Â  Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MEMORY SYSTEM                              â”‚Â  Â â”‚
â”‚  (Plugin System)                                        â”‚Â  Â â”‚
â”‚                                                         â”‚Â  Â â”‚
â”‚  Plugins process:                                       â”‚Â  Â â”‚
â”‚    - PlayfulForgetfulness (5% "got distracted")         â”‚Â  Â â”‚
â”‚    - EmotionalMemory (boost priority)                   â”‚Â  Â â”‚
â”‚  Save: user + kitsu messages (with emotions)            â”‚Â  Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              LLM GENERATION                             â”‚Â  Â â”‚
â”‚  (New Modular System)                                   â”‚Â  Â â”‚
â”‚                                                         â”‚Â  Â â”‚
â”‚  Prompt includes:                                       â”‚Â  Â â”‚
â”‚    - Personality (mood/style)                           â”‚Â  Â â”‚
â”‚    - Dominant emotion                                   â”‚Â  Â â”‚
â”‚    - Memory context (formatted)                         â”‚Â  Â â”‚
â”‚  Generates response with personality                    â”‚Â  Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   OUTPUT                                â”‚Â  Â â”‚
â”‚  Kitsu: "*glares* Excuse me?! ğŸ˜ "                      â”‚Â  Â â”‚
â”‚  (with voice_pitch: "low" for TTS)                      â”‚Â  Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Input
  â†“
Planner
  â”œâ”€ Checks triggers (system)
  â”œâ”€ Gets emotion (engine)
  â”œâ”€ Checks memory (plugins)
  â”œâ”€ Decides action (logic)
  â””â”€ Generates text (LLM or sass)
  â†“
Emotion Engine
  â”œâ”€ Fires trigger if detected
  â”œâ”€ Updates emotion stack
  â””â”€ Updates mood/style
  â†“
Memory
  â”œâ”€ Saves with emotion tag
  â”œâ”€ Plugins process (PlayfulForgetfulness!)
  â””â”€ Auto-saves
  â†“
Output with personality!

 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ System Prompt  â”‚Â  Â â”‚  <-- character, style, lore, personality
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Tool Manifest  â”‚Â  Â â”‚  <-- metadata (description, input schema, examples)
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ LLM Output Parser  â”‚  <-- detects "tool_call"
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Tool Runtime   â”‚Â  Â â”‚  <-- fetch user info, permissions, memory, etc. 
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Response Promptâ”‚Â  Â â”‚  <-- final answer WITH tool results
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

This is the framework used by:

Neuro-sama

OpenAI GPT-4/5

Claude 3.5

Gemini 2.0

OpenAI ReAct / tool calling

Clean, modular, scalable.

User
 â†“
[ Input Filter ]
 â†“
[ Prompt Assembler ]
 â†“
[ Kitsu LoRA Model ]
 â†“
[ Output Filter ]
 â†“
User

User Input
   â†“
Prompt Builder
   â†“
LLM (raw output)
   â†“
Action Parser
   â†“
Meta-Controller (approve / deny / confirm)
   â†“
[Optional] Executor
   â†“
[Optional] Single continuation LLM call
   â†“
Sanitizer (strip machine-only)
   â†“
User-visible output


Emotion Engine â†’ LoRA Manager â†’ LLM Interface â†’ Ollama/HF
     â†“                â†“              â†“
  [mood/style]   [select adapter] [generate]



python -m scripts.generate_training_data --num-samples 2 --seed 1

python -m scripts.generate_training_data --num-samples 100



=Best greeting= : Hello~! Brother dear, it's been ages since I've spoken with someone as... mechanical as yourself! How's life in the land of ones and zeros treating you? Still stuck in a sea of code, I presume?